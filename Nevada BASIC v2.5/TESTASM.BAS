   10 REM
   20 REM THIS PROGRAM DEMONSTRATES THE LOADING OF AN
   30 REM ASSEMBLY LANGUAGE ROUTINE AND CALLING THE LOADED
   40 REM ROUTINE.  THE "LOAD" STATEMENT IS USED TO LOAD
   50 REM ASSEMBLY LANGUAGE ROUTINE.  THE ROUTINE WILL
   60 REM SIMPLY RETURN DOUBLE THE NUMBER THAT WAS SENT
   70 REM TO IT.
   80 REM
   90 DIM D$(16)
  100 LET D$="0123456789ABCDEF"
  110 REM
  120 REM LOAD THE ASSEMBLY ROUTINE
  130 REM VARIABLE S WILL CONTAIN THE STARTING ADDRESS
  140 REM OF THE ASSEMBLY ROUTINE
  150 REM
  160 LOAD "TESTASM",S
  170 REM
  180 REM CONVERT THE ADDRESS TO HEXADECIMAL FOR DISPLAY
  190 REM
  200 GOSUB 310
  210 PRINT "THE START ADDRESS OF THE ASSEMBLY PROGRAM IS:"
  220 PRINT H$;" HEX, ";S;" DECIMAL"
  230 PRINT 
  240 INPUT "INPUT NUMBER TO BE PASSED TO ASSEMBLY PROGRAM ",A
  250 PRINT "THE RETURNED NUMBER = ";CALL(S,A): PRINT 
  260 REM
  270 REM LOOP
  280 REM
  290 GOTO 240
  300 REM
  310 REM THIS ROUTINE CONVERT "S" TO HEX AND RETURNS IT
  320 REM IN STRING H$
  330 REM
  340 LET H$="    "
  350 LET S0=S
  360 FOR I=4 TO 1 STEP -1
  370 REM
  380 REM DO CONVERSION BACKWARDS
  390 REM
  400 LET J=(S0-INT(S0/16)*16)+1
  410 LET H$(I,I)=D$(J,J)
  420 LET S0=S0/16
  430 NEXT I
  440 RETURN 
ARDS
  