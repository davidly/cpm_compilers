\ Breakpoint tool (adapted from Forth Dimensions 5/1)                                                                           SUSPEND is inserted into the application source code at the     point to be debugged. When subsequently executed, the           application is temporarily suspended and the current stack      contents displayed. The user will then be in a special          interpret loop (indicated by '<ok>' prompt) during which time   the program's data may be examined.                                                                                             The application may be resumed at any time using RESUME.        Care must be taken not to alter the program's stack contents    during a SUSPEND. Executing QUIT or ABORT while halted (e.g.    as a result of mistyping a command) will result in the user     dropping back to forth.                                                                                                                                                                         \ SUSPEND RESUME                                                forth definitions  sys @  system                                variable bsd  create buf #80 allot                                                                                              : bip ( -- )                                                      begin cr ." <ok> " buf dup #80 accept space evaluate again ;                                                                  \ Pause application                                             : SUSPEND ( ? -- ? )  cr ." BREAK:  stack = " .s  depth bsd !     ['] bip catch  #-256 of end  throw ;                                                                                          \ Resume application                                            : RESUME ( ? -- ? )                                               depth bsd @ -  bsd off  abort" stack changed"  #-256 throw ;                                                                  sys !  behead bsd bip                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           