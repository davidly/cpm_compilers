;
;MI - C  v-2.18   (C) COPYRIGHT  G. KERSTING / H. ROSE, 1983
;
; ERW: 1/84
;
	EXT	XXXINI
	EXT	MAIN
	EXT	CCEQ,CCNE,CCGT
;
;
XXXMAIN:
	LHLD 6
	DCX H
	SPHL
	CALL XXXINI
	CALL XXXARG
	JMP 0
;
;
XXXARG:
	LXI H,128
	SHLD C304+44
	MOV L,M
	MVI H,0
	SHLD C304+0
	LXI H,1
	SHLD C304+2
	LHLD C304+44
	INX H
	SHLD C304+44
	DCX H
	SHLD C304+4
	LXI D,0
	MOV M,E
C305:
	LHLD C304+2
	LXI D,20
	CALL CCGT
	JZ C306
C307:
	LHLD C304+0
	MOV A,H
	ORA L
	JZ C308
	LHLD C304+44
	MOV E,M
	MVI D,0
	LXI H,32
	CALL CCNE
	JZ C309
	JMP C308
C309:
	LHLD C304+0
	DCX H
	SHLD C304+0
	LHLD C304+44
	INX H
	SHLD C304+44
	DCX H
	LXI D,0
	MOV M,E
	JMP C307
C308:
	LHLD C304+0
	MOV A,H
	ORA L
	JZ C310
	LHLD C304+2
	INX H
	SHLD C304+2
	DCX H
	DAD H
	LXI D,C304+4
	DAD D
	XCHG
	LHLD C304+44
	XCHG
	MOV M,E
	INX H
	MOV M,D
	JMP C311
C310:
	LHLD C304+44
	LXI D,0
	MOV M,E
	JMP C306
C311:
C312:
	LHLD C304+0
	MOV A,H
	ORA L
	JZ C313
	LHLD C304+44
	MOV E,M
	MVI D,0
	LXI H,32
	CALL CCEQ
	JZ C314
	JMP C313
C314:
	LHLD C304+0
	DCX H
	SHLD C304+0
	LHLD C304+44
	INX H
	SHLD C304+44
	JMP C312
C313:
	JMP C305
C306:
	LXI D,C304+4
	PUSH D
	LHLD C304+2
	PUSH H
	CALL MAIN
	POP B
	POP B
	RET
;
	DSEG
C304:
	DS   46
	END XXXMAIN
